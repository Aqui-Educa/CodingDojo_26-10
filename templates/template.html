<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div>
    <form>
      <label>Id:</label>
      <input type="text" id="id" required>
      <br>
      <label>Nome:</label>
      <input type="text" id="nome" required>
      <br>
      <label>CPF:</label>
      <input type="text" id="cpf" required>
      <br>
      <label>Telefone:</label>
      <input type="text" id="tel" required>
      <br>
      <label>Email:</label>
      <input type="text" id="email" required>
      <br>
      <label>Vaga:</label>
      <input type="text" id="vaga" required>
      <br>
      <label>Endereço:</label>
      <input type="text" id="endereco" required>
      <br>
      <button type="submit" onclick="salvar()">Salvar</button>
    </form>
  </div>

  <script lang="javascript">
    function salvar() {
      //Criando variáveis com os dados obtidos
        //nos campos do formulário no HTML
        var id = document.getElementById("id").value
        var nome = document.getElementById("nome").value
        var telefone = document.getElementById("tel").value
        var email = document.getElementById("email").value
        var vaga = document.getElementById("vaga").value
        var endereco = document.getElementById("endereco").value


        //Construindo o JSON que será
        //enviado para a API
        var json = {
            'id': id,
            'nome': nome,
            'telefone': telefone,
            'email': email,
            'vaga': vaga,
            'endereco': endereco
        }

        //Enviando para a API o json 
        //construído na etapa anterior
        fetch('http://127.0.0.1:5000/inserir',
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            method: "POST",
            body: JSON.stringify(json)
        })
        .then(function(res){ 
            res.json()
                .then(data => {
                    console.log(data)
                    alert(data.message)
                })
        })
        .catch(function(res){ console.log(res) })
    }
  </script>
</body>
</html>

